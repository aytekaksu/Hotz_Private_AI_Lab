<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tool Calling Indicators Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-8">Tool Calling Indicators Test</h1>
        
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-xl font-semibold mb-4">Test Tool Chips</h2>
            <div id="tool-chips-container" class="space-y-4">
                <!-- Tool chips will be added here -->
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-semibold mb-4">Test Controls</h2>
            <div class="space-x-4">
                <button onclick="addToolChip('running')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    Add Running Tool
                </button>
                <button onclick="addToolChip('output-available')" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                    Add Completed Tool
                </button>
                <button onclick="addToolChip('output-error')" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
                    Add Error Tool
                </button>
                <button onclick="clearToolChips()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                    Clear All
                </button>
            </div>
        </div>
    </div>

    <script>
        let toolChipCounter = 0;
        
        function addToolChip(state) {
            const container = document.getElementById('tool-chips-container');
            const toolName = `test_tool_${++toolChipCounter}`;
            
            const chip = document.createElement('div');
            chip.className = 'mt-2 flex flex-wrap items-center gap-2';
            chip.innerHTML = `
                <span class="inline-flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-xs transition-colors ${
                    state === 'output-available' 
                        ? 'border-green-200 bg-green-50 text-green-700'
                        : state === 'output-error'
                        ? 'border-red-200 bg-red-50 text-red-700'
                        : 'border-blue-200 bg-blue-50 text-blue-700'
                }">
                    <span class="h-2 w-2 rounded-full ${
                        state === 'output-available' 
                            ? 'bg-green-500'
                            : state === 'output-error'
                            ? 'bg-red-500'
                            : 'bg-blue-500 animate-pulse'
                    }"></span>
                    ${formatToolName(toolName)}
                    <span class="text-[10px] uppercase tracking-[0.2em] font-medium">
                        ${state === 'output-available' ? 'Done' : state === 'output-error' ? 'Error' : 'Running'}
                    </span>
                </span>
            `;
            
            container.appendChild(chip);
        }
        
        function clearToolChips() {
            document.getElementById('tool-chips-container').innerHTML = '';
            toolChipCounter = 0;
        }
        
        function formatToolName(name) {
            return name
                .replace(/_/g, ' ')
                .replace(/\b\w/g, letter => letter.toUpperCase());
        }
        
        // Simulate tool calling sequence
        function simulateToolCallSequence() {
            clearToolChips();
            
            // Add running tool
            addToolChip('running');
            
            // After 2 seconds, mark as completed
            setTimeout(() => {
                clearToolChips();
                addToolChip('output-available');
            }, 2000);
        }
        
        // Auto-start simulation
        setTimeout(simulateToolCallSequence, 1000);
    </script>
</body>
</html>


